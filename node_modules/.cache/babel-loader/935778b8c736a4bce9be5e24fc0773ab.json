{"ast":null,"code":"import _regeneratorRuntime from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Select from'react-select';import cons from\"../../cons.js\";var CrowdFunding=/*#__PURE__*/function(_Component){_inherits(CrowdFunding,_Component);var _super=_createSuper(CrowdFunding);function CrowdFunding(props){var _this;_classCallCheck(this,CrowdFunding);_this=_super.call(this,props);_this.state={min:100,deposito:\"Loading...\",balance:\"Loading...\",accountAddress:\"Loading...\",porcentaje:\"Loading...\",dias:\"Loading...\",partner:\"Loading...\",balanceTRX:\"Loading...\",balanceUSDT:\"Loading...\",precioSITE:1,valueUSDT:0,hand:0,cantidadBlokes:1,valorBlokes:50};_this.deposit=_this.deposit.bind(_assertThisInitialized(_this));_this.estado=_this.estado.bind(_assertThisInitialized(_this));_this.estado2=_this.estado2.bind(_assertThisInitialized(_this));_this.rateSITE=_this.rateSITE.bind(_assertThisInitialized(_this));_this.handleChangeA=_this.handleChangeA.bind(_assertThisInitialized(_this));_this.handleChangeB=_this.handleChangeB.bind(_assertThisInitialized(_this));return _this;}_createClass(CrowdFunding,[{key:\"handleChangeA\",value:function handleChangeA(event){var evento=event.target.value;this.setState({cantidadBlokes:evento,valorBlokes:evento*50});}},{key:\"handleChangeB\",value:function handleChangeB(event){var evento=event.target.value;this.setState({valorBlokes:evento,cantidadBlokes:evento/50});}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;var resultado;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(typeof window.ethereum!=='undefined')){_context2.next=5;break;}_context2.next=3;return window.ethereum.request({method:'eth_requestAccounts'});case 3:resultado=_context2.sent;//console.log(resultado[0]);\nthis.setState({currentAccount:resultado[0]});case 5:setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resultado;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(typeof window.ethereum!=='undefined')){_context.next=5;break;}_context.next=3;return window.ethereum.request({method:'eth_requestAccounts'});case 3:resultado=_context.sent;//console.log(resultado[0]);\n_this2.setState({currentAccount:resultado[0]});case 5:case\"end\":return _context.stop();}}},_callee);})),3*1000);setInterval(function(){return _this2.estado();},3*1000);setInterval(function(){return _this2.estado2();},3*1000);case 8:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"rateSITE\",value:function(){var _rateSITE=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",1);case 1:case\"end\":return _context3.stop();}}},_callee3);}));function rateSITE(){return _rateSITE.apply(this,arguments);}return rateSITE;}()},{key:\"estado\",value:function(){var _estado=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var inversors,options,datos,aprovado,top,index,precio,active;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});case 2:inversors=_context4.sent;options=[];datos={};inversors.inicio=1000;_context4.next=8;return this.props.wallet.contractToken.methods.allowance(this.state.currentAccount,this.props.contractAddress).call({from:this.state.currentAccount});case 8:aprovado=_context4.sent;if(!(aprovado>0)){_context4.next=26;break;}_context4.next=12;return this.props.wallet.contractBinary.methods.plansLength().call({from:this.state.currentAccount});case 12:top=_context4.sent;index=0;case 14:if(!(index<top)){_context4.next=26;break;}_context4.next=17;return this.props.wallet.contractBinary.methods.plans(index).call({from:this.state.currentAccount});case 17:precio=_context4.sent;_context4.next=20;return this.props.wallet.contractBinary.methods.active(index).call({from:this.state.currentAccount});case 20:active=_context4.sent;precio=parseInt(precio)/Math.pow(10,18);if(precio>0&&active&&inversors.registered){datos={};datos.value=index;datos.label=precio+' USDT';options[index]=datos;}case 23:index++;_context4.next=14;break;case 26:this.setState({options:options});case 27:case\"end\":return _context4.stop();}}},_callee4,this);}));function estado(){return _estado.apply(this,arguments);}return estado;}()},{key:\"estado2\",value:function(){var _estado2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var accountAddress,inversors,inicio,fin,texto,nameToken1,aprovado,tiempo,porcentiempo,decimales,balance,valorPlan,partner,hand,loc,getString,GET,get,i,l,tmp,wallet,dias,porcentaje,decimals,balanceUSDT;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:accountAddress=this.state.currentAccount;_context5.next=3;return this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});case 3:inversors=_context5.sent;inicio=accountAddress.substr(0,4);fin=accountAddress.substr(-4);texto=inicio+\"...\"+fin;document.getElementById(\"login\").href=\"https://bscscan.com/address/\".concat(accountAddress);document.getElementById(\"login-my-wallet\").innerHTML=texto;_context5.next=11;return this.props.wallet.contractToken.methods.symbol().call({from:this.state.currentAccount});case 11:nameToken1=_context5.sent;_context5.next=14;return this.props.wallet.contractToken.methods.allowance(accountAddress,this.props.contractAddress).call({from:this.state.currentAccount});case 14:aprovado=_context5.sent;if(aprovado>0){if(!inversors.registered){aprovado=\"Register\";}else{aprovado=\"Buy Plan\";}}else{aprovado=\"Allow wallet\";}inversors.inicio=1000;_context5.next=19;return this.props.wallet.contractBinary.methods.tiempo().call({from:this.state.currentAccount});case 19:tiempo=_context5.sent;tiempo=tiempo*1000;porcentiempo=(Date.now()-inversors.inicio)*100/tiempo;_context5.next=24;return this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});case 24:decimales=_context5.sent;_context5.next=27;return this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({from:this.state.currentAccount});case 27:balance=_context5.sent;balance=balance/Math.pow(10,decimales);valorPlan=0;if(porcentiempo<100){aprovado=\"Update Plan\";valorPlan=inversors.plan/Math.pow(10,8);}partner=cons.WS;hand=\"Left \";if(!inversors.registered){_context5.next=39;break;}_context5.next=36;return this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({from:this.state.currentAccount});case 36:partner=_context5.sent;_context5.next=56;break;case 39:loc=document.location.href;if(!(loc.indexOf('?')>0)){_context5.next=56;break;}getString=loc.split('?');//console.log(getString)\ngetString=getString[getString.length-1];//console.log(getString);\nGET=getString.split('&');get={};for(i=0,l=GET.length;i<l;i++){tmp=GET[i].split('=');get[tmp[0]]=unescape(decodeURI(tmp[1]));}if(get['hand']){tmp=get['hand'].split('#');//console.log(tmp);\nif(tmp[0]===\"right\"){hand=\"Rigth \";}}if(!get['ref']){_context5.next=56;break;}tmp=get['ref'].split('#');//console.log(tmp[0]);\n_context5.next=51;return this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({from:this.state.currentAccount});case 51:wallet=_context5.sent;_context5.next=54;return this.props.wallet.contractBinary.methods.investors(wallet).call({from:this.state.currentAccount});case 54:inversors=_context5.sent;//console.log(wallet);\nif(inversors.registered){partner=\"team \"+hand+\" of \"+wallet;}case 56:if(partner===\"0x0000000000000000000000000000000000000000\"){partner=\"---------------------------------\";}dias=365;//await Utils.contract.tiempo().call();\n//var velocidad = await Utils.contract.velocidad().call();\n//dias = (parseInt(dias)/86400)*velocidad;\n_context5.next=60;return this.props.wallet.contractBinary.methods.porcent().call({from:this.state.currentAccount});case 60:porcentaje=_context5.sent;porcentaje=parseInt(porcentaje);_context5.next=64;return this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});case 64:decimals=_context5.sent;_context5.next=67;return this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({from:this.state.currentAccount});case 67:balanceUSDT=_context5.sent;balanceUSDT=parseInt(balanceUSDT)/Math.pow(10,decimals);this.setState({deposito:aprovado,balance:valorPlan,decimales:decimales,accountAddress:accountAddress,porcentaje:porcentaje,dias:dias,partner:partner,balanceSite:balance,balanceUSDT:balanceUSDT,nameToken1:nameToken1});case 70:case\"end\":return _context5.stop();}}},_callee5,this);}));function estado2(){return _estado2.apply(this,arguments);}return estado2;}()},{key:\"deposit\",value:function(){var _deposit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var _this3=this;var _this$state,balanceSite,valueUSDT,balance,accountAddress,aprovado,blokes,amount,loc,sponsor,hand,investors,getString,GET,get,i,l,tmp,wallet,padre,reg,userWithdrable,MIN_RETIRO,despositos;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this$state=this.state,balanceSite=_this$state.balanceSite,valueUSDT=_this$state.valueUSDT,balance=_this$state.balance;accountAddress=this.state.currentAccount;_context6.next=4;return this.props.wallet.contractToken.methods.allowance(accountAddress,this.props.contractAddress).call({from:this.state.currentAccount});case 4:aprovado=_context6.sent;if(!(aprovado<=0)){_context6.next=10;break;}_context6.next=8;return this.props.wallet.contractToken.methods.approve(this.props.contractAddress,\"115792089237316195423570985008687907853269984665640564039457584007913129639935\").send({from:this.state.currentAccount});case 8:window.alert(\"Balance approval for exchange: successful\");return _context6.abrupt(\"return\");case 10:blokes=document.getElementById(\"a\").value;amount=blokes*50;amount=amount-balance;if(!(aprovado>0&&balanceSite>=amount)){_context6.next=74;break;}loc=document.location.href;sponsor=cons.WS;hand=0;_context6.next=19;return this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});case 19:investors=_context6.sent;if(!investors.registered){_context6.next=26;break;}_context6.next=23;return this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({from:this.state.currentAccount});case 23:sponsor=_context6.sent;_context6.next=41;break;case 26:if(!(loc.indexOf('?')>0)){_context6.next=41;break;}getString=loc.split('?');getString=getString[getString.length-1];//console.log(getString);\nGET=getString.split('&');get={};for(i=0,l=GET.length;i<l;i++){tmp=GET[i].split('=');get[tmp[0]]=unescape(decodeURI(tmp[1]));}if(!get['ref']){_context6.next=41;break;}tmp=get['ref'].split('#');_context6.next=36;return this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({from:this.state.currentAccount});case 36:wallet=_context6.sent;_context6.next=39;return this.props.wallet.contractBinary.methods.investors(wallet).call({from:this.state.currentAccount});case 39:padre=_context6.sent;if(padre.registered){sponsor=wallet;}case 41:if(investors.registered){_context6.next=47;break;}// && sponsor !== \"0x0000000000000000000000000000000000000000\"){\nreg=this.props.wallet.contractBinary.methods.registro(sponsor,\"migel merchan\").send({from:this.state.currentAccount});reg.then(function(){return window.alert(\"congratulation registration: successful\");});return _context6.abrupt(\"return\");case 47:if(investors.registered){_context6.next=50;break;}alert(\"you need a referral link to register\");return _context6.abrupt(\"return\");case 50:if(!/*sponsor !== \"0x0000000000000000000000000000000000000000\" && */investors.registered){_context6.next=71;break;}_context6.next=53;return this.props.wallet.contractBinary.methods.withdrawable(this.state.currentAccount).call({from:this.state.currentAccount});case 53:userWithdrable=_context6.sent;_context6.next=56;return this.props.wallet.contractBinary.methods.MIN_RETIRO().call({from:this.state.currentAccount});case 56:MIN_RETIRO=_context6.sent;_context6.next=59;return this.props.wallet.contractBinary.methods.depositos(this.state.currentAccount).call({from:this.state.currentAccount});case 59:despositos=_context6.sent;if(!(userWithdrable/Math.pow(10,18)>=MIN_RETIRO/Math.pow(10,18)&&despositos[0].length!==0)){_context6.next=68;break;}if(!window.confirm(\"Realizar el retiro de su disponible, para continuar\")){_context6.next=65;break;}this.props.wallet.contractBinary.methods.withdraw().send({from:this.state.currentAccount}).then(function(){_this3.props.wallet.contractBinary.methods.buyPlan(valueUSDT).send({from:_this3.state.currentAccount}).then(function(){window.alert(\"Felicidades inversión exitosa\");document.getElementById(\"services\").scrollIntoView({block:\"start\",behavior:\"smooth\"});});});_context6.next=66;break;case 65:return _context6.abrupt(\"return\");case 66:_context6.next=69;break;case 68:this.props.wallet.contractBinary.methods.buyBlocks(blokes).send({from:this.state.currentAccount}).then(function(){window.alert(\"Felicidades inversión exitosa\");});case 69:_context6.next=72;break;case 71:window.alert(\"Please use referral link to buy a plan\");case 72:_context6.next=75;break;case 74:if(balanceSite<amount){window.alert(\"You do not have enough balance, you need: \"+amount+\" USDT and in your wallet you have: \"+balanceSite);}case 75:case\"end\":return _context6.stop();}}},_callee6,this);}));function deposit(){return _deposit.apply(this,arguments);}return deposit;}()},{key:\"render\",value:function render(){var _this4=this;var options=this.state.options;return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row vertical-modern-dashboard\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 m12 l12 card padding-4 animate fadeLeft gradient-45deg-blue-indigo white-text\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s2 m2 center-align\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons background-round mt-1 mb-0\"},\"perm_identity\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},\"Blocks\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col s3 m2 center-align\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-0 white-text\"},\"X\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col s2 m2 center-align\"},/*#__PURE__*/React.createElement(\"input\",{id:\"a\",type:\"number\",className:\"form-control center-align white-text\",value:this.state.cantidadBlokes,onChange:this.handleChangeA}),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},\"Quantity\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col s2 m2 center-align\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-0 white-text\"},\"=\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col s2 m2 center-align\"},/*#__PURE__*/React.createElement(\"input\",{id:\"b\",type:\"number\",className:\"form-control center-align white-text\",value:this.state.valorBlokes,onChange:this.handleChangeB}),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},\"Total\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col s2 m2 center-align mt-1\"},/*#__PURE__*/React.createElement(\"button\",{className:\"mb-6 btn waves-effect waves-light cyan\",onClick:function onClick(){return _this4.deposit();}},\"Buy\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 m6 l6 card padding-3 animate fadeLeft gradient-45deg-blue-indigo white-text\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 m12 center-align\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons background-round mt-1 mb-0\"},\"perm_identity\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 center-align break\"},\"Upline: \",/*#__PURE__*/React.createElement(\"br\",null),\" \",this.state.partner)))),/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 m6 l6 card-width\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card card-border center-align gradient-45deg-indigo-purple\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-content white-text\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons right\"},\"favorite\")),/*#__PURE__*/React.createElement(\"h5\",{className:\"white-text mb-1\"},\"Membership\"),/*#__PURE__*/React.createElement(\"p\",{className:\"m-0\"},\"13 Dec 2021\"),/*#__PURE__*/React.createElement(\"a\",{className:\"waves-effect waves-light btn gradient-45deg-deep-orange-orange border-round mt-7 z-depth-4\"},\"Buy $30/AN\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"content-overlay\"})));}}]);return CrowdFunding;}(Component);export{CrowdFunding as default};","map":{"version":3,"sources":["/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/src/components/CrowdFunding/index.js"],"names":["React","Component","Select","cons","CrowdFunding","props","state","min","deposito","balance","accountAddress","porcentaje","dias","partner","balanceTRX","balanceUSDT","precioSITE","valueUSDT","hand","cantidadBlokes","valorBlokes","deposit","bind","estado","estado2","rateSITE","handleChangeA","handleChangeB","event","evento","target","value","setState","window","ethereum","request","method","resultado","currentAccount","setInterval","wallet","contractBinary","methods","investors","call","from","inversors","options","datos","inicio","contractToken","allowance","contractAddress","aprovado","plansLength","top","index","plans","precio","active","parseInt","registered","label","substr","fin","texto","document","getElementById","href","innerHTML","symbol","nameToken1","tiempo","porcentiempo","Date","now","decimals","decimales","balanceOf","valorPlan","plan","WS","padre","loc","location","indexOf","getString","split","length","GET","get","i","l","tmp","unescape","decodeURI","idToAddress","porcent","balanceSite","approve","send","alert","blokes","amount","sponsor","reg","registro","then","withdrawable","userWithdrable","MIN_RETIRO","depositos","despositos","confirm","withdraw","buyPlan","scrollIntoView","block","behavior","buyBlocks"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Select from 'react-select'\n\nimport cons from \"../../cons.js\";\n\nexport default class CrowdFunding extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n      min: 100,\n      deposito: \"Loading...\",\n      balance: \"Loading...\",\n      accountAddress: \"Loading...\",\n      porcentaje: \"Loading...\",\n      dias: \"Loading...\",\n      partner: \"Loading...\",\n      balanceTRX: \"Loading...\",\n      balanceUSDT: \"Loading...\",\n      precioSITE: 1,\n      valueUSDT: 0,\n      hand: 0,\n      cantidadBlokes: 1,\n      valorBlokes: 50\n\n    };\n\n    this.deposit = this.deposit.bind(this);\n    this.estado = this.estado.bind(this);\n    this.estado2 = this.estado2.bind(this);\n\n    this.rateSITE = this.rateSITE.bind(this);\n    this.handleChangeA = this.handleChangeA.bind(this);\n    this.handleChangeB = this.handleChangeB.bind(this);\n  }\n\n  handleChangeA(event) {\n    var evento = event.target.value;\n    this.setState({\n      cantidadBlokes: evento,\n      valorBlokes: evento*50\n    });\n  }\n\n\n  handleChangeB(event) {\n    var evento = event.target.value;\n    this.setState({\n      valorBlokes: evento,\n      cantidadBlokes: evento/50\n    });\n  }\n\n  async componentDidMount() {\n    if (typeof window.ethereum !== 'undefined') {           \n      var resultado = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        //console.log(resultado[0]);\n        this.setState({\n          currentAccount: resultado[0]\n        })\n\n    }\n    setInterval(async() => {\n      if (typeof window.ethereum !== 'undefined') {           \n        var resultado = await window.ethereum.request({ method: 'eth_requestAccounts' });\n          //console.log(resultado[0]);\n          this.setState({\n            currentAccount: resultado[0]\n          })\n  \n      }\n\n    },3*1000);\n\n    setInterval(() => this.estado(),3*1000);\n    setInterval(() => this.estado2(),3*1000);\n    \n  };\n\n  async rateSITE(){\n    /*\n    var proxyUrl = cons.proxy;\n    var apiUrl = cons.PRE;\n    var response;\n\n    try {\n      response = await fetch(proxyUrl+apiUrl);\n    } catch (err) {\n      console.log(err);\n      return this.state.precioSITE;\n    }\n\n    var json = await response.json();\n\n    this.setState({\n      precioSITE: json.Data.precio\n    });\n\n    return json.Data.precio;*/\n\n    return 1;\n\n  };\n\n  async estado(){\n\n    //console.log(this.props.wallet);\n\n    var inversors = await this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    var options = [];\n\n    var datos = {};\n\n    inversors.inicio = 1000;\n\n    var aprovado = await this.props.wallet.contractToken.methods.allowance(this.state.currentAccount,this.props.contractAddress).call({from:this.state.currentAccount});\n    \n\n    if (aprovado > 0) {\n\n      var top = await this.props.wallet.contractBinary.methods.plansLength().call({from:this.state.currentAccount});\n\n      for (let index = 0; index < top; index++) {\n        var precio = await this.props.wallet.contractBinary.methods.plans(index).call({from:this.state.currentAccount});\n        var active = await this.props.wallet.contractBinary.methods.active(index).call({from:this.state.currentAccount});\n        precio = parseInt(precio)/10**18;\n        if( precio > 0 && active && inversors.registered){\n          datos = {};\n          datos.value = index;\n          datos.label = precio+' USDT';\n          options[index] = datos;\n\n        }\n        \n        \n      }\n    }\n\n    this.setState({\n      options: options\n    });\n\n  }\n\n  async estado2(){\n\n    var accountAddress =  this.state.currentAccount;\n    var inversors = await this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    var inicio = accountAddress.substr(0,4);\n    var fin = accountAddress.substr(-4);\n\n    var texto = inicio+\"...\"+fin;\n\n    document.getElementById(\"login\").href = `https://bscscan.com/address/${accountAddress}`;\n    document.getElementById(\"login-my-wallet\").innerHTML = texto;\n\n    var nameToken1 = await this.props.wallet.contractToken.methods.symbol().call({from:this.state.currentAccount});\n\n    var aprovado = await this.props.wallet.contractToken.methods.allowance(accountAddress,this.props.contractAddress).call({from:this.state.currentAccount});\n\n    if (aprovado > 0) {\n      if(!inversors.registered){\n        aprovado = \"Register\";\n      }else{\n        aprovado = \"Buy Plan\";\n      }\n      \n    }else{\n      aprovado = \"Allow wallet\";\n    }\n\n    inversors.inicio = 1000;\n    \n    var tiempo = await this.props.wallet.contractBinary.methods.tiempo().call({from:this.state.currentAccount});\n\n    tiempo = tiempo*1000;\n\n    var porcentiempo = ((Date.now()-inversors.inicio)*100)/tiempo;\n\n    var decimales = await this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});\n\n    var balance = await this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    balance = balance/10**decimales;\n\n    var valorPlan = 0;\n\n    if( porcentiempo < 100 ){\n      aprovado = \"Update Plan\";\n\n      valorPlan = inversors.plan/10**8;\n      \n    }\n\n    var partner = cons.WS;\n\n    var hand = \"Left \";\n\n    if ( inversors.registered ) {\n      partner = await this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    }else{\n\n      var loc = document.location.href;\n      if(loc.indexOf('?')>0){\n          var getString = loc.split('?');\n          //console.log(getString)\n          getString = getString[getString.length-1];\n          //console.log(getString);\n          var GET = getString.split('&');\n          var get = {};\n          for(var i = 0, l = GET.length; i < l; i++){\n              var tmp = GET[i].split('=');\n              get[tmp[0]] = unescape(decodeURI(tmp[1]));\n          }\n\n          if (get['hand']){\n            tmp = get['hand'].split('#');\n\n            //console.log(tmp);\n\n            if (tmp[0] === \"right\") {\n              hand = \"Rigth \";\n            }\n          }\n\n          if (get['ref']) {\n            tmp = get['ref'].split('#');\n\n            //console.log(tmp[0]);\n\n            var wallet = await this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({from:this.state.currentAccount});\n\n            inversors = await this.props.wallet.contractBinary.methods.investors(wallet).call({from:this.state.currentAccount});\n            //console.log(wallet);\n            if ( inversors.registered ) {\n              partner = \"team \"+hand+\" of \"+wallet;\n            }\n          }\n\n        \n      }\n\n    }\n\n    if(partner === \"0x0000000000000000000000000000000000000000\"){\n      partner = \"---------------------------------\";\n    }\n    \n\n    var dias = 365;//await Utils.contract.tiempo().call();\n\n    //var velocidad = await Utils.contract.velocidad().call();\n\n    //dias = (parseInt(dias)/86400)*velocidad;\n\n    var porcentaje = await this.props.wallet.contractBinary.methods.porcent().call({from:this.state.currentAccount});\n\n    porcentaje = parseInt(porcentaje);\n\n    var decimals = await this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});\n\n    var balanceUSDT = await this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    balanceUSDT = parseInt(balanceUSDT)/10**decimals;\n\n    this.setState({\n      deposito: aprovado,\n      balance: valorPlan,\n      decimales: decimales,\n      accountAddress: accountAddress,\n      porcentaje: porcentaje,\n      dias: dias,\n      partner: partner,\n      balanceSite: balance,\n      balanceUSDT: balanceUSDT,\n      nameToken1: nameToken1\n    });\n  }\n\n\n  async deposit() {\n\n    var { balanceSite, valueUSDT , balance} = this.state;\n\n    var accountAddress =  this.state.currentAccount;\n\n    var aprovado = await this.props.wallet.contractToken.methods.allowance(accountAddress,this.props.contractAddress).call({from:this.state.currentAccount});\n\n    if (aprovado <= 0 ){\n      await this.props.wallet.contractToken.methods.approve(this.props.contractAddress, \"115792089237316195423570985008687907853269984665640564039457584007913129639935\").send({from:this.state.currentAccount});\n      window.alert(\"Balance approval for exchange: successful\");\n      return;\n    }\n    var blokes = document.getElementById(\"a\").value;\n    var amount = blokes *50;\n    amount = amount-balance;\n\n    if ( aprovado > 0 && \n      balanceSite >= amount \n      ){\n\n        var loc = document.location.href;\n        var sponsor = cons.WS;\n        var hand = 0;\n        var investors = await this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});\n\n        if (investors.registered) {\n\n          sponsor = await this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({from:this.state.currentAccount});\n\n        }else{\n\n          if(loc.indexOf('?')>0){\n            var getString = loc.split('?');\n            getString = getString[getString.length-1];\n            //console.log(getString);\n            var GET = getString.split('&');\n            var get = {};\n            for(var i = 0, l = GET.length; i < l; i++){\n                var tmp = GET[i].split('=');\n                get[tmp[0]] = unescape(decodeURI(tmp[1]));\n            }\n\n\n            if (get['ref']) {\n              tmp = get['ref'].split('#');\n\n              var wallet = await this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({from:this.state.currentAccount});\n\n              var padre = await this.props.wallet.contractBinary.methods.investors(wallet).call({from:this.state.currentAccount});\n\n              if ( padre.registered ) {\n                sponsor = wallet;\n              }\n            }\n\n          }\n          \n        }\n\n        if(!investors.registered ){// && sponsor !== \"0x0000000000000000000000000000000000000000\"){\n          var reg = this.props.wallet.contractBinary.methods.registro(sponsor, \"migel merchan\").send({from:this.state.currentAccount});\n          reg.then(() => window.alert(\"congratulation registration: successful\"));\n          return;\n        }else{\n          if (!investors.registered) {\n            alert(\"you need a referral link to register\");\n            return;\n          }\n          \n        }\n\n        if(/*sponsor !== \"0x0000000000000000000000000000000000000000\" && */investors.registered ){\n        \n          var userWithdrable = await this.props.wallet.contractBinary.methods.withdrawable(this.state.currentAccount).call({from:this.state.currentAccount});\n          var MIN_RETIRO = await this.props.wallet.contractBinary.methods.MIN_RETIRO().call({from:this.state.currentAccount});\n\n          var despositos = await this.props.wallet.contractBinary.methods.depositos(this.state.currentAccount).call({from:this.state.currentAccount});\n\n  \n          if (userWithdrable/10**18 >= MIN_RETIRO/10**18 && despositos[0].length !== 0){\n            if(window.confirm(\"Realizar el retiro de su disponible, para continuar\")){\n              this.props.wallet.contractBinary.methods.withdraw().send({from:this.state.currentAccount})\n              .then(() => {\n                this.props.wallet.contractBinary.methods.buyPlan(valueUSDT).send({from:this.state.currentAccount})\n                .then(() => {\n                  window.alert(\"Felicidades inversión exitosa\");\n                  document.getElementById(\"services\").scrollIntoView({block: \"start\", behavior: \"smooth\"});\n                })\n\n              })\n\n              \n            }else{\n              return;\n            }\n          \n          }else{\n              this.props.wallet.contractBinary.methods.buyBlocks(blokes).send({from:this.state.currentAccount})\n              .then(() => {\n                window.alert(\"Felicidades inversión exitosa\");\n              });\n  \n          }\n          \n        }else{\n  \n            window.alert(\"Please use referral link to buy a plan\");\n  \n        }\n          \n    }else{\n\n\n      if ( balanceSite < amount ) {\n\n        window.alert(\"You do not have enough balance, you need: \"+amount+\" USDT and in your wallet you have: \"+balanceSite);\n      }\n\n      \n    }\n\n\n  };\n\n  render() {\n\n    var {options} = this.state;\n\n    return (\n      <div className=\"row\">\n                <div className=\"col s12\">\n                    <div className=\"container\">\n                        <div className=\"row vertical-modern-dashboard\">\n                            <div className=\"col s12 m12 l12 card padding-4 animate fadeLeft gradient-45deg-blue-indigo white-text\">\n                                <div className=\"row\">\n                                    <div className=\"col s2 m2 center-align\">\n                                        <i className=\"material-icons background-round mt-1 mb-0\">perm_identity</i>\n                                        <p className=\"mb-0\">Blocks</p>\n                                    </div>\n                                    <div className=\"col s3 m2 center-align\">\n                                        <h5 className=\"mb-0 white-text\">X</h5>\n                                    </div>\n                                    <div className=\"col s2 m2 center-align\">\n                                        <input id=\"a\" type=\"number\" className=\"form-control center-align white-text\" value={this.state.cantidadBlokes} onChange={this.handleChangeA}  />\n                                        <p className=\"mb-0\">Quantity</p>\n                                    </div>\n                                    <div className=\"col s2 m2 center-align\">\n                                        <h5 className=\"mb-0 white-text\">=</h5>\n                                    </div>\n                                    <div className=\"col s2 m2 center-align\">\n                                        <input id=\"b\" type=\"number\" className=\"form-control center-align white-text\" value={this.state.valorBlokes} onChange={this.handleChangeB} />\n                                        <p className=\"mb-0\">Total</p>\n                                    </div>\n                                    <div className=\"col s2 m2 center-align mt-1\">\n                                        <button className=\"mb-6 btn waves-effect waves-light cyan\"  onClick={() => this.deposit()}>Buy</button>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div className=\"col s12 m6 l6 card padding-3 animate fadeLeft gradient-45deg-blue-indigo white-text\">\n                                <div className=\"row\">\n                                    \n                                    <div className=\"col s12 m12 center-align\">\n                                        <i className=\"material-icons background-round mt-1 mb-0\">perm_identity</i>\n                                        <p className=\"mb-0 center-align break\">Upline: <br /> {this.state.partner}</p>\n                                    </div>\n\n                                </div>\n                            </div>\n                            <div className=\"col s12 m6 l6 card-width\">\n                              <div className=\"card card-border center-align gradient-45deg-indigo-purple\">\n                                  <div className=\"card-content white-text\">\n                                      <div className=\"col s12\"><i className=\"material-icons right\">favorite</i></div>\n                                      <h5 className=\"white-text mb-1\">Membership</h5>\n                                      <p className=\"m-0\">13 Dec 2021</p>\n                                      <a className=\"waves-effect waves-light btn gradient-45deg-deep-orange-orange border-round mt-7 z-depth-4\">Buy $30/AN</a>\n                                  </div>\n                              </div>\n                          </div>\n                        </div>\n                    </div>\n                    <div className=\"content-overlay\"></div>\n                </div>\n            </div>\n\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}