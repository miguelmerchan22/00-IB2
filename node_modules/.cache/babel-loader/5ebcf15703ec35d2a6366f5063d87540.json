{"ast":null,"code":"import _regeneratorRuntime from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";var Depositos=/*#__PURE__*/function(_Component){_inherits(Depositos,_Component);var _super=_createSuper(Depositos);function Depositos(props){var _this;_classCallCheck(this,Depositos);_this=_super.call(this,props);_this.state={direccion:\"\",link:\"Make an investment to get the referral LINK\",registered:false,balanceRef:0,totalRef:0,invested:0,paidAt:0,my:0,almacen:0,withdrawn:0,precioSITE:1,valueSITE:0,valueUSDT:0,personasIzquierda:0,puntosIzquierda:0,personasDerecha:0,puntosDerecha:0,bonusBinario:0,puntosEfectivosIzquierda:0,puntosEfectivosDerecha:0,puntosReclamadosIzquierda:0,puntosReclamadosDerecha:0,puntosLostIzquierda:0,puntosLostDerecha:0,directos:0};_this.Investors=_this.Investors.bind(_assertThisInitialized(_this));_this.Investors2=_this.Investors2.bind(_assertThisInitialized(_this));_this.Investors3=_this.Investors3.bind(_assertThisInitialized(_this));_this.Link=_this.Link.bind(_assertThisInitialized(_this));_this.withdraw=_this.withdraw.bind(_assertThisInitialized(_this));_this.rateSITE=_this.rateSITE.bind(_assertThisInitialized(_this));_this.handleChangeSITE=_this.handleChangeSITE.bind(_assertThisInitialized(_this));_this.handleChangeUSDT=_this.handleChangeUSDT.bind(_assertThisInitialized(_this));return _this;}_createClass(Depositos,[{key:\"handleChangeSITE\",value:function handleChangeSITE(event){this.setState({valueSITE:event.target.value});}},{key:\"handleChangeUSDT\",value:function handleChangeUSDT(event){this.setState({valueUSDT:event.target.value});}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;var resultado;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(typeof window.ethereum!=='undefined')){_context2.next=5;break;}_context2.next=3;return window.ethereum.request({method:'eth_requestAccounts'});case 3:resultado=_context2.sent;//console.log(resultado[0]);\nthis.setState({currentAccount:resultado[0]});case 5:setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resultado;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(typeof window.ethereum!=='undefined')){_context.next=5;break;}_context.next=3;return window.ethereum.request({method:'eth_requestAccounts'});case 3:resultado=_context.sent;//console.log(resultado[0]);\n_this2.setState({currentAccount:resultado[0]});case 5:case\"end\":return _context.stop();}}},_callee);})),7*1000);setInterval(function(){return _this2.Investors2();},3*1000);setInterval(function(){return _this2.Investors3();},3*1000);setInterval(function(){return _this2.Investors();},3*1000);setInterval(function(){return _this2.Link();},3*1000);case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"rateSITE\",value:function(){var _rateSITE=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",1);case 1:case\"end\":return _context3.stop();}}},_callee3);}));function rateSITE(){return _rateSITE.apply(this,arguments);}return rateSITE;}()},{key:\"Link\",value:function(){var _Link=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var registered,loc,mydireccion,link,link2;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:registered=this.state.registered;if(!registered){_context4.next=15;break;}loc=document.location.href;if(loc.indexOf('?')>0){loc=loc.split('?')[0];}if(loc.indexOf('#')>0){loc=loc.split('#')[0];}mydireccion=this.state.currentAccount;_context4.next=8;return this.props.wallet.contractBinary.methods.addressToId(this.state.currentAccount).call({from:this.state.currentAccount});case 8:mydireccion=_context4.sent;mydireccion=loc+'?ref='+mydireccion;link=mydireccion+\"&hand=izq\";link2=mydireccion+\"&hand=der\";this.setState({link:link,link2:link2});_context4.next=16;break;case 15:this.setState({link:\"Make an investment to get the referral LINK\",link2:\"Make an investmentnto get the referral LINK\"});case 16:case\"end\":return _context4.stop();}}},_callee4,this);}));function Link(){return _Link.apply(this,arguments);}return Link;}()},{key:\"Investors\",value:function(){var _Investors=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var usuario,decimales,verdepositos,listaDepositos,depositos,tiempo,porcent,i,porcentiempo,fecha,proceso;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});case 2:usuario=_context5.sent;_context5.next=5;return this.props.wallet.contractBinary.methods.withdrawable(this.state.currentAccount,false).call({from:this.state.currentAccount});case 5:usuario.withdrawable=_context5.sent;_context5.next=8;return this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});case 8:decimales=_context5.sent;_context5.next=11;return this.props.wallet.contractBinary.methods.depositos(this.state.currentAccount,false).call({from:this.state.currentAccount});case 11:verdepositos=_context5.sent;usuario.inicio=1000;listaDepositos=/*#__PURE__*/React.createElement(\"div\",{className:\"box\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"title\"},\"There is not yet deposits.\"));if(!(verdepositos[0].length>0)){_context5.next=36;break;}_context5.next=17;return this.props.wallet.contractBinary.methods.depositos(this.state.currentAccount,false).call({from:this.state.currentAccount});case 17:depositos=_context5.sent;depositos.amount=depositos[0];delete depositos[0];depositos.tiempo=depositos[1];delete depositos[1];depositos.pasivo=depositos[2];delete depositos[2];depositos.activo=depositos[3];delete depositos[3];//console.log(depositos);\nlistaDepositos=[];_context5.next=29;return this.props.wallet.contractBinary.methods.tiempo().call({from:this.state.currentAccount});case 29:tiempo=_context5.sent;tiempo=tiempo*1000;_context5.next=33;return this.props.wallet.contractBinary.methods.porcent().call({from:this.state.currentAccount});case 33:porcent=_context5.sent;porcent=porcent/100;for(i=0;i<depositos.amount.length;i++){if(depositos.tiempo){}porcentiempo=(Date.now()-depositos.tiempo[i]*1000)*100/tiempo;//console.log(porcentiempo)\nfecha=new Date(depositos.tiempo[i]*1000+tiempo);fecha=\"\"+fecha;if(depositos.activo[i]&&depositos.amount[i]/Math.pow(10,18)*(porcentiempo/100)<depositos.amount[i]/Math.pow(10,18)){if(depositos.pasivo[i]){proceso=/*#__PURE__*/React.createElement(\"b\",null,\" (ACTIVE)\");}else{proceso=/*#__PURE__*/React.createElement(\"b\",null,\" (ACTIVE)\");}}else{if(depositos.pasivo[i]){proceso=/*#__PURE__*/React.createElement(\"b\",null,\" (FINALIZED)\");}else{proceso=/*#__PURE__*/React.createElement(\"b\",null,\" (FINALIZED)\");}}listaDepositos[depositos.amount.length-i]=/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 m12 l12\",key:\"depsits-\"+i},/*#__PURE__*/React.createElement(\"div\",{id:\"basic-demo\",className:\"card card-tabs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 m6 l10\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"card-title\"},/*#__PURE__*/React.createElement(\"b\",null,depositos.amount[i]/Math.pow(10,18)/porcent/50),\" BLKS |  \",/*#__PURE__*/React.createElement(\"meter\",{min:\"0\",max:\"100\",low:\"25\",high:\"75\",optimum:\"100\",value:porcentiempo}),\" \",porcentiempo.toFixed(6),\"% | \",proceso)))),/*#__PURE__*/React.createElement(\"div\",{id:\"view-basic-demo\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Time to end: \"),fecha,\" \")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"progress\",style:{\"height\":\"20px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"progress-bar-striped progress-bar-animated bg-success\",role:\"progressbar\",style:{\"width\":porcentiempo+\"%\"},\"aria-valuenow\":this.state.porcentiempo,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"})),/*#__PURE__*/React.createElement(\"br\",null));}case 36://console.log(usuario);\nthis.setState({registered:usuario.registered,balanceRef:usuario.balanceRef/Math.pow(10,decimales),totalRef:usuario.totalRef/Math.pow(10,decimales),invested:usuario.invested/Math.pow(10,decimales),paidAt:usuario.paidAt/Math.pow(10,decimales),my:usuario.withdrawable/Math.pow(10,decimales),withdrawn:usuario.withdrawn/Math.pow(10,decimales),almacen:usuario.almacen/Math.pow(10,decimales),porcentiempo:porcentiempo,directos:usuario.directos,depositos:listaDepositos});case 37:case\"end\":return _context5.stop();}}},_callee5,this);}));function Investors(){return _Investors.apply(this,arguments);}return Investors;}()},{key:\"Investors2\",value:function(){var _Investors2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:case\"end\":return _context6.stop();}}},_callee6);}));function Investors2(){return _Investors2.apply(this,arguments);}return Investors2;}()},{key:\"Investors3\",value:function(){var _Investors3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:case\"end\":return _context7.stop();}}},_callee7);}));function Investors3(){return _Investors3.apply(this,arguments);}return Investors3;}()},{key:\"withdraw\",value:function(){var _withdraw=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var _this$state,balanceRef,my,almacen,directos,valorPlan,bonusBinario,available,decimales,MIN_RETIRO;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_this$state=this.state,balanceRef=_this$state.balanceRef,my=_this$state.my,almacen=_this$state.almacen,directos=_this$state.directos,valorPlan=_this$state.valorPlan,bonusBinario=_this$state.bonusBinario;available=balanceRef+my+almacen;if(directos>=2&&available<valorPlan){available+=bonusBinario;}available=available.toFixed(8);available=parseFloat(available);_context8.next=7;return this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});case 7:decimales=_context8.sent;_context8.next=10;return this.props.wallet.contractBinary.methods.MIN_RETIRO().call({from:this.state.currentAccount});case 10:MIN_RETIRO=_context8.sent;MIN_RETIRO=MIN_RETIRO/Math.pow(10,decimales);if(!(available>MIN_RETIRO)){_context8.next=19;break;}_context8.next=15;return this.props.wallet.contractBinary.methods.withdrawToDeposit().send({from:this.state.currentAccount});case 15:_context8.next=17;return this.props.wallet.contractBinary.methods.withdraw().send({from:this.state.currentAccount});case 17:_context8.next=20;break;case 19:if(available<MIN_RETIRO){window.alert(\"The minimum to withdraw are: \"+MIN_RETIRO+\" USDT\");}case 20:case\"end\":return _context8.stop();}}},_callee8,this);}));function withdraw(){return _withdraw.apply(this,arguments);}return withdraw;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},this.state.depositos);}}]);return Depositos;}(Component);export{Depositos as default};","map":{"version":3,"sources":["/Users/miguelmerchan/Documents/GitHub/0-INFINITY-BLOCKS-TEST-UNILEVEL/src/components/Depositos/index.js"],"names":["React","Component","Depositos","props","state","direccion","link","registered","balanceRef","totalRef","invested","paidAt","my","almacen","withdrawn","precioSITE","valueSITE","valueUSDT","personasIzquierda","puntosIzquierda","personasDerecha","puntosDerecha","bonusBinario","puntosEfectivosIzquierda","puntosEfectivosDerecha","puntosReclamadosIzquierda","puntosReclamadosDerecha","puntosLostIzquierda","puntosLostDerecha","directos","Investors","bind","Investors2","Investors3","Link","withdraw","rateSITE","handleChangeSITE","handleChangeUSDT","event","setState","target","value","window","ethereum","request","method","resultado","currentAccount","setInterval","loc","document","location","href","indexOf","split","mydireccion","wallet","contractBinary","methods","addressToId","call","from","link2","investors","usuario","withdrawable","contractToken","decimals","decimales","depositos","verdepositos","inicio","listaDepositos","length","amount","tiempo","pasivo","activo","porcent","i","porcentiempo","Date","now","fecha","proceso","toFixed","valorPlan","available","parseFloat","MIN_RETIRO","withdrawToDeposit","send","alert"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nexport default class Depositos extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      direccion: \"\",\n      link: \"Make an investment to get the referral LINK\",\n      registered: false,\n      balanceRef: 0,\n      totalRef: 0,\n      invested: 0,\n      paidAt: 0,\n      my: 0,\n      almacen: 0,\n      withdrawn: 0,\n      precioSITE: 1,\n      valueSITE: 0,\n      valueUSDT: 0,\n      personasIzquierda: 0,\n      puntosIzquierda: 0,\n      personasDerecha: 0,\n      puntosDerecha: 0,\n      bonusBinario: 0,\n      puntosEfectivosIzquierda: 0,\n      puntosEfectivosDerecha: 0,\n      puntosReclamadosIzquierda: 0,\n      puntosReclamadosDerecha: 0,\n      puntosLostIzquierda: 0,\n      puntosLostDerecha: 0,\n      directos: 0,\n\n    };\n\n    this.Investors = this.Investors.bind(this);\n    this.Investors2 = this.Investors2.bind(this);\n    this.Investors3 = this.Investors3.bind(this);\n    this.Link = this.Link.bind(this);\n    this.withdraw = this.withdraw.bind(this);\n\n    this.rateSITE = this.rateSITE.bind(this);\n    this.handleChangeSITE = this.handleChangeSITE.bind(this);\n    this.handleChangeUSDT = this.handleChangeUSDT.bind(this);\n  }\n\n  handleChangeSITE(event) {\n    this.setState({valueSITE: event.target.value});\n  }\n\n  handleChangeUSDT(event) {\n    this.setState({valueUSDT: event.target.value});\n  }\n\n  async componentDidMount() {\n    if (typeof window.ethereum !== 'undefined') {           \n      var resultado = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        //console.log(resultado[0]);\n        this.setState({\n          currentAccount: resultado[0]\n        })\n\n    }\n    setInterval(async() => {\n      if (typeof window.ethereum !== 'undefined') {           \n        var resultado = await window.ethereum.request({ method: 'eth_requestAccounts' });\n          //console.log(resultado[0]);\n          this.setState({\n            currentAccount: resultado[0]\n          })\n  \n      }\n\n    },7*1000);\n    setInterval(() => this.Investors2(),3*1000);\n    setInterval(() => this.Investors3(),3*1000);\n    setInterval(() => this.Investors(),3*1000);\n    setInterval(() => this.Link(),3*1000);\n    \n  };\n\n  async rateSITE(){\n    /*var proxyUrl = cons.proxy;\n    var apiUrl = cons.PRE;\n    var response;\n\n    try {\n      response = await fetch(proxyUrl+apiUrl);\n    } catch (err) {\n      console.log(err);\n      return this.state.precioSITE;\n    }\n\n    var json = await response.json();\n\n    this.setState({\n      precioSITE: json.Data.precio\n    });\n\n    return json.Data.precio;*/\n\n    return 1;\n\n  };\n\n  async Link() {\n    const {registered} = this.state;\n    if(registered){\n\n      let loc = document.location.href;\n      if(loc.indexOf('?')>0){\n        loc = loc.split('?')[0];\n      }\n\n      if(loc.indexOf('#')>0){\n        loc = loc.split('#')[0];\n      }\n      let mydireccion = this.state.currentAccount;\n      mydireccion = await this.props.wallet.contractBinary.methods.addressToId(this.state.currentAccount).call({from:this.state.currentAccount});\n\n      mydireccion = loc+'?ref='+mydireccion;\n      var link = mydireccion+\"&hand=izq\";\n      var link2 = mydireccion+\"&hand=der\";\n      this.setState({\n        link: link,\n        link2: link2,\n      });\n    }else{\n      this.setState({\n        link: \"Make an investment to get the referral LINK\",\n        link2: \"Make an investmentnto get the referral LINK\",\n      });\n    }\n  }\n\n\n  async Investors() {\n\n    let usuario = await this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    usuario.withdrawable = await this.props.wallet.contractBinary.methods.withdrawable(this.state.currentAccount, false).call({from:this.state.currentAccount});\n    \n    var decimales = await this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});\n\n    var verdepositos = await this.props.wallet.contractBinary.methods.depositos(this.state.currentAccount, false).call({from:this.state.currentAccount});\n\n    usuario.inicio = 1000;\n\n    var listaDepositos = (\n      <div className=\"box\">\n        <h3 className=\"title\">There is not yet deposits.</h3>\n\n      </div>\n    );\n\n    if (verdepositos[0].length > 0) {\n      var depositos = await this.props.wallet.contractBinary.methods.depositos(this.state.currentAccount, false).call({from:this.state.currentAccount});\n      depositos.amount =  depositos[0];\n      delete depositos[0];\n      depositos.tiempo =  depositos[1];\n      delete depositos[1];\n      depositos.pasivo =  depositos[2];\n      delete depositos[2];\n      depositos.activo =  depositos[3];\n      delete depositos[3];\n\n      //console.log(depositos);\n\n      listaDepositos = [];\n\n      var tiempo = await this.props.wallet.contractBinary.methods.tiempo().call({from:this.state.currentAccount});\n\n      tiempo = tiempo*1000;\n\n      let porcent = await this.props.wallet.contractBinary.methods.porcent().call({from:this.state.currentAccount});\n\n        porcent = porcent/100;\n\n      for (let i = 0; i < depositos.amount.length; i++) {\n\n        if(depositos.tiempo){\n\n        }\n\n        var porcentiempo = (((Date.now()-(depositos.tiempo[i]*1000)))*100)/tiempo;\n\n        //console.log(porcentiempo)\n\n        var fecha = new Date((depositos.tiempo[i]*1000)+tiempo);\n        fecha = \"\"+fecha;\n\n        var proceso;\n        if (depositos.activo[i]  && ((depositos.amount[i]/10**18)*(porcentiempo/100)) < (depositos.amount[i]/10**18)) {\n          if (depositos.pasivo[i]  ) {\n            proceso = <b> (ACTIVE)</b> \n          } else {\n            proceso = <b> (ACTIVE)</b> \n          }\n        }else{\n          if (depositos.pasivo[i]  ) {\n            proceso = <b> (FINALIZED)</b> \n          }else{\n            proceso = <b> (FINALIZED)</b> \n          }\n        }\n        \n\n        listaDepositos[depositos.amount.length-i] = (\n          <div className=\"col s12 m12 l12\" key={\"depsits-\"+i}>\n            <div id=\"basic-demo\" className=\"card card-tabs\">\n                <div className=\"card-content\">\n                    <div className=\"card-title\">\n                        <div className=\"row\">\n                            <div className=\"col s12 m6 l10\">\n                                <h4 className=\"card-title\"><b>{((depositos.amount[i]/10**18)/porcent)/50}</b> BLKS |  <meter min=\"0\" max=\"100\"\n         low=\"25\" high=\"75\"\n         optimum=\"100\" value={porcentiempo} /> {porcentiempo.toFixed(6)}% | {proceso}</h4>\n                            </div>\n                        </div>\n                    </div>\n                    <div id=\"view-basic-demo\">\n                        <div className=\"row\">\n                            <div className=\"col s12\">\n                              \n                              <p><b>Time to end: </b>{fecha} </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n          <div className=\"progress\" style={{\"height\": \"20px\"}}>\n            <div className=\"progress-bar-striped progress-bar-animated bg-success\" role=\"progressbar\" style={{\"width\": porcentiempo+\"%\"}} aria-valuenow={this.state.porcentiempo} aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n          </div>\n          <br></br>\n          \n    \n    \n        </div>\n        );\n        \n      }\n    }\n\n    //console.log(usuario);\n\n    \n\n    this.setState({\n      registered: usuario.registered,\n      balanceRef: usuario.balanceRef/10**decimales,\n      totalRef: usuario.totalRef/10**decimales,\n      invested: usuario.invested/10**decimales,\n      paidAt: usuario.paidAt/10**decimales,\n      my: usuario.withdrawable/10**decimales,\n      withdrawn: usuario.withdrawn/10**decimales,\n      almacen: usuario.almacen/10**decimales,\n      porcentiempo: porcentiempo,\n      directos: usuario.directos,\n      depositos: listaDepositos\n    });\n\n  };\n\n  async Investors2() {\n\n    //var precioSITE = await this.rateSITE();\n\n    /*this.setState({\n      precioSITE: precioSITE\n    });*/\n\n  };\n\n  async Investors3() {\n\n    \n\n  };\n\n  async withdraw(){\n    const { balanceRef, my, almacen, directos, valorPlan, bonusBinario } = this.state;\n\n    var available = (balanceRef+my+almacen);\n    if(directos >= 2 && available < valorPlan){\n      available += bonusBinario;\n    }\n    available = available.toFixed(8);\n    available = parseFloat(available);\n\n    var decimales = await this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});\n\n    var MIN_RETIRO = await this.props.wallet.contractBinary.methods.MIN_RETIRO().call({from:this.state.currentAccount});\n\n    MIN_RETIRO = MIN_RETIRO/10**decimales;\n\n    if ( available > MIN_RETIRO ){\n      await this.props.wallet.contractBinary.methods.withdrawToDeposit().send({from:this.state.currentAccount});\n      await this.props.wallet.contractBinary.methods.withdraw().send({from:this.state.currentAccount});\n    }else{\n      if (available < MIN_RETIRO) {\n        window.alert(\"The minimum to withdraw are: \"+(MIN_RETIRO)+\" USDT\");\n      }\n    }\n  };\n\n\n  render() {   \n\n    return (\n\n      <div className=\"row\">\n\n              {this.state.depositos}\n          \n      </div>\n\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}